# GrayWill-ST

我的 SillyTavern 相关内容仓库。

这里存放了我个人在使用 SillyTavern 过程中修改和创建的预设，角色卡和配套正则

## 目录

- [仓库内容](#仓库内容)
- [预设注意事项](#预设注意事项)
- [预设教程](#预设教程)
- [更新日志](#更新日志)
  
# 仓库内容

目前包含以下几类内容：

## 1. 正则
- meta版本预设必须安装隐藏攻击正则和脚本，其他正则按需安装，不用反截断功能的几乎可以不考虑
- 不使用反截断那一堆去-/@/i的正则就不用导入，使用的话用哪个导入哪个即可

## 2. 角色卡
- 就是角色卡。

## 3. 酒馆助手脚本
- 用于完成meta功能的脚本（酒馆助手脚本拆两部分了，均可分别开关）
静默版是只在llm执行对你的浏览器界面的修改时生效，v1.5是差不多二合一的，会有弹窗，下面那个是单独的弹窗和控制台。
这个脚本是让ai能控制你浏览器界面/获取你大致的ip地点/其他meta功能用的，一般情况用不到，之前整活用的（后来有人嫌切什么东西都有概率弹窗我就拆两部分了（ 

## 4. 预设

### 预设注意事项

#### 注意！只支持官方渠道的ds！
- 现在不需要github下正则了，安这个https://discord.com/channels/1134557553011998840/1407146985643053096 就好,会自动附带正则
- 预设头部几个管理变量条目，分为gemini和ds用，用什么模开什么关另一个（默认都没开，最好自己去开一下）
- 有冲突的模块尽量别一起开
- 基础token3k左右
- 什么叫活人感啊（
- 可以直接叫灰魂当工具卡用
- 有什么需求直接给灰魂提即可/自己往预设里缝
- 有一部分抄了kemini的综合优化思路，已在预设内标注(有授权）
- 有问题给我反馈
- 没什么用还占注意力的逻辑符号(参考了一下日魇预设)
- 客制化程度较高，第一次用得自己改一改
- 支持多种文风/安科化描写/平行事件/多款反截断可选
- meta功能一定要安脚本和隐藏攻击正则（在github）（酒馆助手脚本拆两部分了，均可分别开关，防止经常弹窗太烦）
- 一堆杂七杂八的功能，具体见更新日志（在github）
- 支持noass插件，gemini也许开了会有更好表现
- 所有非ds官方的第三方使用得关闭所有role为ai assistant的条目，包括卡思维链的，因为目前所有第三方疑似都不支持预填充啥的，不关就发癫（当然关了效果肯定没不关好，所以仍然强烈建议使用ds官方渠道。
- -# ~~灰魂，帮我推进剧情/灰魂，帮我回答/灰魂，写个卡/灰魂，给我开个挂/灰魂，帮我写个预设~~
  

#### 以下为使用预设的注意事项：
- 预设头部俩条目，分为gemini和ds模型，用什么模开什么关另一个（默认都没开，最好自己去开一下）
- 改灰魂基础设定/改掉灰魂改成自己的角色的话改预设头部那里的设定
- 负面阴暗和消极黑暗可以同时开
- 兼容性不是很好，如果角色卡自带cot请关闭预设cot
- 目前总结的正则可能有小问题
- 人称的话有需要的话自己点进去那一项改
- 预设带的那个轻小说文风是默认第一人称的
- 下面一堆优化/抗八股/抗过拟合只能最多开一个
- 反截断四个最多选一个开
- 卡思维链尽量别关,如果没卡掉可能会影响体验
- 其他的自己看着改就好（

### 预设教程
魔改预设的话新建一个放着你的要求的扔到`<order></order>`里面就可以

本预设推荐使用酒馆自动解析思维链：
1. 找到酒馆里长得像A标志的按钮
2. 打开自动解析
3. 新建一个解析规则
4. 把标签改为 `<thinking>` 和 `</thinking>`
如图：![image](https://github.com/Komeiji-Shiki/GrayWill-ST/blob/main/%E6%9D%82%E9%A1%B9/a33760a0-3980-4ccc-b579-fa9eb9ce3a38.png)
![image](https://github.com/Komeiji-Shiki/GrayWill-ST/blob/main/%E6%9D%82%E9%A1%B9/6304485f-666c-4b06-a88c-f0e48f43f984.png)

### 更新日志
0.1.4：
- 优化了剧情推进速度，开了细致描写之后应该就推剧情没那么快了
- 添加反截断模块，配合正则使用
- 优化了思维链，添加了两个新可选思维链
- 其他小优化
- 修复了综合优化的小问题
  
0.1.5:
- 新增平行事件
- 新增cot模块化拆分
- 小优化
- 不建议2.5p开太多东西，会猪脑过载掉格式
- 小改反截断
- 如果不需要cot模块化或平行事件可以不更新

0.1.5-2
小更新
- 加入了更改人称的地方（自己点进去把三改成二或者一）
- 加入了给想玩爽文/纯观察者/路人用的选项（未测试）
- 修正了平行事件和正则的小问题

0.1.6:
加入很多meta玩法
- 必须安装酒馆助手然后安装附带脚本为全局脚本(在酒馆助手里安装)
- 灰魂现在可以帮你跳转其他网页/直接下载txt/魔改酒馆页面/魔改页面标题/发送直接获取现实详细信息/其他花里胡哨的功能
- 理论上灰魂能开你盒，但是实际上读的是走代理的ip的地区
其他更新内容:
- 我记得做了点什么优化来着，忘了
- 多款新款反截断可选
- 感谢https://discord.com/channels/1134557553011998840/1393917443163820176 的酒馆助手脚本，基于此魔改，已获授权
- 只是测试版，可能有一些问题

0.1.6-meta-ex:
- 支持cmd运行任意指令
- 修复了脚本的一些问题

0.1.6.2：
- 加入了安科式推进剧情的开关
- 小优化meta玩法

0.1.6.3
- 修复安科模块的小问题
- 思考加入文风模块框架

0.2
- 综合优化速度提升一倍
- 指令遵循加强
- 忘了，可能接下来长时间不更新

0.2.1
- 安科系统细化，俩新文风，后面忘了

0.2.2
- 花里胡哨的颜色（不建议和综合优化什么的一起开）
- 贫乳化(没活了)
- 平然
- 我也不知道也没有用的条目顺序调整

0.2.3
- 其中一个安科系统大修
- 抄了俩文风
- 新增小cot反八股（可能不稳定）
- 卡思维链预填充内容修改
- 增强“user为普通人”选项的效力，当然，你要是好几楼缠着灰魂求她还是会心软（

0.24，0.25
- 极端化风格反八股：很极端，和其他模块兼容性很差
- 本体模块优化
- 思维链优化
- 避免npc标签化
- 做了一半的灰风锐评
- 安科模块优化
- 新文风
- 只开基础模块的话token压缩至2k
- 抗机器人化优化，改名角色生动化
- 卡思维链内容调整

0.26
- emoji模块添加
- 颜文字模块添加
- 各部分顺序调整
- 新形态抗八股文风添加
- 很草率的一个帮忙写世界书的模块
- 小改卡思维链预填充内容
- 忘了

0.26.1
- 小改以兼容dsv3.1
- 更新俩整活发癫模块
- 新文风
- 小优化

0.27
- 正式兼容ds
- ds有点强。
- 字数正式改为变量控制，于所有条目最前即可修改
- 本体附加分为gemini和ds模型，用什么模开什么关另一个（默认都没开，最好自己去开一下）
- 卡思维链预填充分为俩，一个gemini一个ds，必须自己选一个开
- 本体内容优化
- 爱丽丝文风/灾难广播电台风重写
- 条目顺序优化
- 新增一键八股/一键发癫模块（整活用，参考杂谈群友给的提示词改的，可以自己改改）
- 新增nsfw描写美化
- 平然化条目重写

0.28
- 大量提示词变量化
- DS专用文风，格式，和禁八股，以及写了个如果八国则附带翻译的条目
- 测试性ds卡思维链，效果不知道和目前使用的是否有区别
- 预设开头的gemini启用和ds启用根据自己用的模型开
- ds的字数问题解决方法：作为user多规划一点接下来自己该干啥别老是继续
- 优化提示词，改进稳定性（大概）
- 模型温度可适当调高
- 我觉得ds表现挺好的，如果不好就是我预设的问题不是模型的问题。

0.29
- 正则里加了个ds思维链折叠，如果用那个新加的<think>预填充的话开开这玩意
- 加了个移除额外tag和标题的正则
- 加了一堆ds专用文风
- 思维链完全变量化
- 优化整体提示词，更连贯，更省token
- 小优化ds专用提示词
- npc人性化重写
- 其他小优化

0.29.2
- 针对ds微调，懒得写了

0.30
- 优化提示词
- 酒馆助手脚本拆两部分了，均可分别开关，之前有人嫌老弹窗太烦（

0.31
- top p和温度改高了一点，如果出问题了自己调低一点
- 不使用正文插入小cot的抗机器人/数据化
- 添加动态叙事模块
- 安科模块优化
- 整体提示词优化，还改了一些条目的位置
- 写了个新cot，测试下来我也不清楚效果好不好，先留那了，老cot也有所优化
- 改了下gemini的卡思维链，效果不好可以自己试试换回</think>（在开头gemini启用那里改）
- 其他小优化，有点头晕，忘了。
- 修复了一些bug

0.32/0.33
- 一堆小更新，懒得写了
- 现在支持正则美化选项直接点击发送

0.34
- 加了一堆正则
- 支持摘要
- 支持与THE WORLD 背景 联动，开启预设内对应条目+THE WORLD插件即可，无需世界书
- 提示词优化
- 剧情推进选项可点击美化正则
- 没啥了，不是大更新

0.35，0.36
- 更新：ds所有文风堆一个条目里了
- 小cot优化，正则优化，选项美化移动端兼容
- 加入对白量控制（不知道控制力度对不同模型效果怎么样，出问题了去字数/对白占比里把那部分删掉（
- 防抢话加强/抢话做成可选条目了
- 本来想加个直播间模块，但是摆了
- 默认ds启用，gemini启用俩模块都没开，自己开一下。

0.36.2
- 字数/对白总控制那里自己改一下。默认写的1000-15000，对白占比可以不改也可以从下面复制粘贴上去。
加入了神必文风（gemini用比较好）
- ds的俩头部条目合起来了
- 提示词改动
- 尝试兼容claude
- 不想看到小cot可以把那个叫折叠小cot的正则里的替换为的内容全删了再保存就好
- 加了个我是灰魂（清缓存防重复版），如果你觉得ds/gemini缓存导致重复，可以开这个试试。

0.40
更新内容：
- 1.此次更新默认你使用的是**jjc反代渠道的lithiumflow**，关闭绕过模式，开启酒馆模式(不用jjc反代就把卡竞技场输入审核关了）。
- 2.涩涩时极端情绪优化（思维链内容，默认不开启）
- 3.加了点文风，理论上提升了文风遵从度
- 4.加入了特殊排版，可能某些场景表现力更好
- 5.修了一下抗描写数据化/死人感，之前中间那部分古神语我不太喜欢去掉了
- 6.使用了新版本酒馆附带正则，修复了之前的正则的生效层数错误问题
- 7.字数对白要求记得自己改一下
- 8.应该是能卡掉思维链的，我测是能稳定卡思维链的，卡不掉检查一下自己反代脚本设置。
- ⑨.baka
- 10.默认开的几个模块可以选择性关闭（不需要的话）

0.41:
- 修正了一些问题
- 加强了负面阴暗反乌托邦的效力
- 加强了抢话/防抢话
- 防升华/可意外转折拆出来可单独开关了
- 优化了提示词。
- 但是没有完全优化。因为ds莫名其妙的有些看起来不太行的提示词效果更好一些。
- 减少token数使用。

v0.43:
- 更改竞技场claude think 用条目：现在可以基本稳定的把claude think的原生思维链替换成自己的然后不再思考一遍了
- 添加了一些文风
- 大概解决了claude喜欢短句的毛病，对claude优化，肘了升华，但是好像没完全彻底肘掉。
- 把一些可以单独开的东西拆出来了
- 新增一个正则把history里最后一条user消息删掉然后在预设尾部用宏加上。之前一直是直接在尾部加上，导致llm会看到两遍（如果你的世界书有绿灯条目，请关掉`删掉history中最后一条用户消息`正则，可能出问题。

v0.44/0.45
- 一堆更新。适配新版dsv3.2
- 反正更了很多。后面忘了。好累。
